{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\tomsh\\\\Desktop\\\\Projects\\\\jipper\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\tomsh\\\\Desktop\\\\Projects\\\\jipper\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:\\\\Users\\\\tomsh\\\\Desktop\\\\Projects\\\\jipper\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\tomsh\\\\Desktop\\\\Projects\\\\jipper\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\tomsh\\\\Desktop\\\\Projects\\\\jipper\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\tomsh\\\\Desktop\\\\Projects\\\\jipper\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\tomsh\\\\Desktop\\\\Projects\\\\jipper\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\tomsh\\\\Desktop\\\\Projects\\\\jipper\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{productService}from'../../services/productService.js';import'./ProductEdit.scss';export var ProductEdit=/*#__PURE__*/function(_Component){_inherits(ProductEdit,_Component);var _super=_createSuper(ProductEdit);function ProductEdit(){var _this;_classCallCheck(this,ProductEdit);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={product:null};_this.onSaveProduct=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(ev){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:ev.preventDefault();_context.next=3;return productService.saveProduct(_this.state.product);case 3:_this.props.history.push('/');case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleChange=function(_ref2){var target=_ref2.target;var field=target.name;var value=target.type==='number'?+target.value:target.value;_this.setState(function(_ref3){var product=_ref3.product;return{product:_objectSpread(_objectSpread({},product),{},_defineProperty({},field,value))};});};return _this;}_createClass(ProductEdit,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var id,product;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:id=this.props.match.params.id;if(!id){_context2.next=7;break;}_context2.next=4;return productService.getProductById(id);case 4:_context2.t0=_context2.sent;_context2.next=10;break;case 7:_context2.next=9;return productService.getEmptyProduct();case 9:_context2.t0=_context2.sent;case 10:product=_context2.t0;this.setState({product:product});case 12:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;var product=this.state.product;if(!product)return/*#__PURE__*/React.createElement(\"div\",null,\"Loading...\");return/*#__PURE__*/React.createElement(\"form\",{className:\"product-edit\",onSubmit:this.onSaveProduct},/*#__PURE__*/React.createElement(\"div\",{className:\"flex justify-center space-between\"},/*#__PURE__*/React.createElement(\"i\",{onClick:function onClick(){return _this2.props.history.goBack();},className:\"fas fa-long-arrow-alt-left\"})),product._id&&/*#__PURE__*/React.createElement(\"img\",{width:\"200\",height:\"200\",src:\"https://robohash.org/\".concat(product.name,\"?set=set5\"),alt:\"img\"}),!product._id&&/*#__PURE__*/React.createElement(\"h2\",null,\"Add New Product\"),/*#__PURE__*/React.createElement(\"div\",{className:\"flex column\"},/*#__PURE__*/React.createElement(\"label\",null,\"Name\"),/*#__PURE__*/React.createElement(\"input\",{name:\"name\",value:product.name,type:\"text\",onChange:this.handleChange,placeholder:\"Type Your Name...\"}),/*#__PURE__*/React.createElement(\"label\",null,\"Email\"),/*#__PURE__*/React.createElement(\"input\",{name:\"email\",value:product.email,type:\"text\",onChange:this.handleChange,placeholder:\"Type Your Email...\"}),/*#__PURE__*/React.createElement(\"label\",null,\"Phone\"),/*#__PURE__*/React.createElement(\"input\",{name:\"phone\",value:product.phone,type:\"text\",onChange:this.handleChange,placeholder:\"Type Your Phone...\"})),/*#__PURE__*/React.createElement(\"button\",null,\"Save\"));}}]);return ProductEdit;}(Component);","map":{"version":3,"sources":["C:/Users/tomsh/Desktop/Projects/jipper/frontend/src/pages/ProductEdit/ProductEdit.jsx"],"names":["React","Component","productService","ProductEdit","state","product","onSaveProduct","ev","preventDefault","saveProduct","props","history","push","handleChange","target","field","name","value","type","setState","id","match","params","getProductById","getEmptyProduct","goBack","_id","email","phone"],"mappings":"s3CAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,cAAT,KAA+B,kCAA/B,CACA,MAAO,oBAAP,CAEA,UAAaC,CAAAA,WAAb,+UACIC,KADJ,CACY,CACJC,OAAO,CAAE,IADL,CADZ,OAWIC,aAXJ,0FAWoB,iBAAOC,EAAP,kHACZA,EAAE,CAACC,cAAH,GADY,sBAENN,CAAAA,cAAc,CAACO,WAAf,CAA2B,MAAKL,KAAL,CAAWC,OAAtC,CAFM,QAGZ,MAAKK,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EAHY,sDAXpB,qEAiBIC,YAjBJ,CAiBmB,eAAgB,IAAbC,CAAAA,MAAa,OAAbA,MAAa,CAC3B,GAAMC,CAAAA,KAAK,CAAGD,MAAM,CAACE,IAArB,CACA,GAAMC,CAAAA,KAAK,CAAGH,MAAM,CAACI,IAAP,GAAgB,QAAhB,CAA2B,CAACJ,MAAM,CAACG,KAAnC,CAA2CH,MAAM,CAACG,KAAhE,CACA,MAAKE,QAAL,CAAc,mBAAGd,CAAAA,OAAH,OAAGA,OAAH,OAAkB,CAAEA,OAAO,gCAAOA,OAAP,wBAAiBU,KAAjB,CAAyBE,KAAzB,EAAT,CAAlB,EAAd,EACH,CArBL,yTAMgBG,EANhB,CAMuB,KAAKV,KAAL,CAAWW,KAAX,CAAiBC,MANxC,CAMgBF,EANhB,KAOwBA,EAPxB,iDAOmClB,CAAAA,cAAc,CAACqB,cAAf,CAA8BH,EAA9B,CAPnC,0FAO6ElB,CAAAA,cAAc,CAACsB,eAAf,EAP7E,4CAOcnB,OAPd,cAQQ,KAAKc,QAAL,CAAc,CAAEd,OAAO,CAAPA,OAAF,CAAd,EARR,kNAuBa,oBACGA,CAAAA,OADH,CACe,KAAKD,KADpB,CACGC,OADH,CAEL,GAAI,CAACA,OAAL,CAAc,mBAAO,4CAAP,CAEd,mBACI,4BAAM,SAAS,CAAC,cAAhB,CAA+B,QAAQ,CAAE,KAAKC,aAA9C,eAEI,2BAAK,SAAS,CAAC,mCAAf,eACI,yBAAG,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACI,KAAL,CAAWC,OAAX,CAAmBc,MAAnB,EAAN,EAAZ,CAA+C,SAAS,CAAC,4BAAzD,EADJ,CAFJ,CAMMpB,OAAO,CAACqB,GAAT,eAAiB,2BAAK,KAAK,CAAC,KAAX,CAAiB,MAAM,CAAC,KAAxB,CAA8B,GAAG,gCAA0BrB,OAAO,CAACW,IAAlC,aAAjC,CAAoF,GAAG,CAAC,KAAxF,EANtB,CAOM,CAACX,OAAO,CAACqB,GAAV,eAAkB,gDAPvB,cAQI,2BAAK,SAAS,CAAC,aAAf,eACI,wCADJ,cAEI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAErB,OAAO,CAACW,IAAlC,CAAwC,IAAI,CAAC,MAA7C,CAAoD,QAAQ,CAAE,KAAKH,YAAnE,CAAiF,WAAW,CAAC,mBAA7F,EAFJ,cAGI,yCAHJ,cAII,6BAAO,IAAI,CAAC,OAAZ,CAAoB,KAAK,CAAER,OAAO,CAACsB,KAAnC,CAA0C,IAAI,CAAC,MAA/C,CAAsD,QAAQ,CAAE,KAAKd,YAArE,CAAmF,WAAW,CAAC,oBAA/F,EAJJ,cAKI,yCALJ,cAMI,6BAAO,IAAI,CAAC,OAAZ,CAAoB,KAAK,CAAER,OAAO,CAACuB,KAAnC,CAA0C,IAAI,CAAC,MAA/C,CAAsD,QAAQ,CAAE,KAAKf,YAArE,CAAmF,WAAW,CAAC,oBAA/F,EANJ,CARJ,cAiBI,yCAjBJ,CADJ,CAqBH,CAhDL,yBAAiCZ,SAAjC","sourcesContent":["import React, { Component } from 'react'\r\nimport { productService } from '../../services/productService.js'\r\nimport './ProductEdit.scss'\r\n\r\nexport class ProductEdit extends Component {\r\n    state = {\r\n        product: null\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { id } = this.props.match.params\r\n        const product = id ? await productService.getProductById(id) : await productService.getEmptyProduct()\r\n        this.setState({ product })\r\n    }\r\n\r\n    onSaveProduct = async (ev) => {\r\n        ev.preventDefault()\r\n        await productService.saveProduct(this.state.product)\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const field = target.name\r\n        const value = target.type === 'number' ? +target.value : target.value\r\n        this.setState(({ product }) => ({ product: { ...product, [field]: value } }))\r\n    }\r\n\r\n    render() {\r\n        const { product } = this.state\r\n        if (!product) return <div>Loading...</div>\r\n\r\n        return (\r\n            <form className=\"product-edit\" onSubmit={this.onSaveProduct}>\r\n\r\n                <div className=\"flex justify-center space-between\">\r\n                    <i onClick={() => this.props.history.goBack()} className=\"fas fa-long-arrow-alt-left\"></i>\r\n                </div>\r\n\r\n                {(product._id) && <img width=\"200\" height=\"200\" src={`https://robohash.org/${product.name}?set=set5`} alt=\"img\"></img>}\r\n                {(!product._id) && <h2>Add New Product</h2>}\r\n                <div className=\"flex column\">\r\n                    <label>Name</label>\r\n                    <input name=\"name\" value={product.name} type=\"text\" onChange={this.handleChange} placeholder=\"Type Your Name...\" />\r\n                    <label>Email</label>\r\n                    <input name=\"email\" value={product.email} type=\"text\" onChange={this.handleChange} placeholder=\"Type Your Email...\" />\r\n                    <label>Phone</label>\r\n                    <input name=\"phone\" value={product.phone} type=\"text\" onChange={this.handleChange} placeholder=\"Type Your Phone...\" />\r\n                </div>\r\n\r\n                <button>Save</button>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}