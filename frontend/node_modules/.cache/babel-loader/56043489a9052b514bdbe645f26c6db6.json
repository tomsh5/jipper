{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\tomsh\\\\Desktop\\\\Projects\\\\jipper\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\tomsh\\\\Desktop\\\\Projects\\\\jipper\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";// import history from '../history';\nimport Axios from'axios';var BASE_URL=process.env.NODE_ENV==='production'?'/api/':'//localhost:3030/api/';var axios=Axios.create({withCredentials:true});export default{get:function get(endpoint,data){return ajax(endpoint,'GET',data);},post:function post(endpoint,data){return ajax(endpoint,'POST',data);},put:function put(endpoint,data){return ajax(endpoint,'PUT',data);},delete:function _delete(endpoint,data){return ajax(endpoint,'DELETE',data);}};function ajax(_x){return _ajax.apply(this,arguments);}function _ajax(){_ajax=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(endpoint){var method,data,res,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:method=_args.length>1&&_args[1]!==undefined?_args[1]:'get';data=_args.length>2&&_args[2]!==undefined?_args[2]:null;_context.prev=2;_context.next=5;return axios({url:\"\".concat(BASE_URL).concat(endpoint),method:method,data:data});case 5:res=_context.sent;return _context.abrupt(\"return\",res.data);case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);console.log(\"Had Issues \".concat(method,\"ing to the backend, endpoint: \").concat(endpoint,\", with data: \").concat(data));console.dir(_context.t0);if(_context.t0.response&&_context.t0.response.status===401){//   history.push('/login');\n}throw _context.t0;case 15:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return _ajax.apply(this,arguments);}","map":{"version":3,"sources":["C:/Users/tomsh/Desktop/Projects/jipper/frontend/src/services/httpService.js"],"names":["Axios","BASE_URL","process","env","NODE_ENV","axios","create","withCredentials","get","endpoint","data","ajax","post","put","delete","method","url","res","console","log","dir","response","status"],"mappings":"+VAAA;AACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,QAAQ,CAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,GAAyB,YAAzB,CACX,OADW,CAEX,uBAFN,CAKA,GAAIC,CAAAA,KAAK,CAAGL,KAAK,CAACM,MAAN,CAAa,CACrBC,eAAe,CAAE,IADI,CAAb,CAAZ,CAIA,cAAe,CACXC,GADW,cACPC,QADO,CACGC,IADH,CACQ,CACf,MAAOC,CAAAA,IAAI,CAACF,QAAD,CAAW,KAAX,CAAkBC,IAAlB,CAAX,CACH,CAHU,CAIXE,IAJW,eAINH,QAJM,CAIIC,IAJJ,CAIS,CAChB,MAAOC,CAAAA,IAAI,CAACF,QAAD,CAAW,MAAX,CAAmBC,IAAnB,CAAX,CACH,CANU,CAOXG,GAPW,cAOPJ,QAPO,CAOGC,IAPH,CAOQ,CACf,MAAOC,CAAAA,IAAI,CAACF,QAAD,CAAW,KAAX,CAAkBC,IAAlB,CAAX,CACH,CATU,CAUXI,MAVW,kBAUJL,QAVI,CAUMC,IAVN,CAUW,CAClB,MAAOC,CAAAA,IAAI,CAACF,QAAD,CAAW,QAAX,CAAqBC,IAArB,CAAX,CACH,CAZU,CAAf,C,QAgBeC,CAAAA,I,wHAAf,iBAAoBF,QAApB,sJAA8BM,MAA9B,+CAAqC,KAArC,CAA4CL,IAA5C,+CAAiD,IAAjD,uCAE0BL,CAAAA,KAAK,CAAC,CACpBW,GAAG,WAAKf,QAAL,SAAgBQ,QAAhB,CADiB,CAEpBM,MAAM,CAANA,MAFoB,CAGpBL,IAAI,CAAJA,IAHoB,CAAD,CAF/B,QAEcO,GAFd,+CAOeA,GAAG,CAACP,IAPnB,0DASQQ,OAAO,CAACC,GAAR,sBAA0BJ,MAA1B,0CAAiEN,QAAjE,yBAAyFC,IAAzF,GACAQ,OAAO,CAACE,GAAR,cACA,GAAI,YAAIC,QAAJ,EAAgB,YAAIA,QAAJ,CAAaC,MAAb,GAAwB,GAA5C,CAAiD,CACjD;AACC,CAbT,sF","sourcesContent":["// import history from '../history';\r\nimport Axios from 'axios';\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n});\r\n\r\nexport default {\r\n    get(endpoint, data){\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data){\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data){\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data){\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\n\r\nasync function ajax(endpoint, method='get', data=null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data\r\n        })\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`);\r\n        console.dir(err);\r\n        if (err.response && err.response.status === 401) {\r\n        //   history.push('/login');\r\n        }\r\n        throw err;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}