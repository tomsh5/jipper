{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tomsh\\\\Desktop\\\\Projects\\\\jipper\\\\frontend\\\\src\\\\pages\\\\ProductDetails\\\\ProductDetails.jsx\";\nimport React, { Component } from 'react';\nimport { productService } from '../../services/productService.js';\nimport './ProductDetails.scss';\nimport { Link } from 'react-router-dom';\nexport class ProductDetails extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      product: null,\n      productToCart: {\n        name: null,\n        img: null,\n        price: null,\n        size: 42,\n        color: null\n      }\n    };\n\n    this.onDeleteProduct = async () => {\n      await productService.deleteProduct(this.state.product._id);\n      this.props.history.push('/');\n    };\n\n    this.handleChange = ({\n      target\n    }) => {\n      const field = target.name;\n      const value = target.type === 'number' ? +target.value : target.value;\n      this.setState(({\n        productToCart\n      }) => ({\n        productToCart: { ...productToCart,\n          [field]: value\n        }\n      }));\n      console.log(this.state.productToCart);\n    };\n\n    this.onEdit = ev => {\n      const {\n        _id\n      } = this.state.product;\n      ev.stopPropagation();\n      this.props.history.push(`/product/edit/${_id}`);\n    };\n\n    this.onColorSelect = ev => {\n      const val = document.getElementById(\"color\").value;\n      console.log(val);\n      this.setState({\n        productToCart: val\n      }); // this.setState(productToCart.size = val)\n\n      console.log(this.state.productToCart);\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      id\n    } = this.props.match.params;\n    const product = await productService.getProductById(id);\n    this.setState({\n      product\n    });\n    this.setState({\n      productToCart: this.state.pr\n    });\n  }\n\n  render() {\n    if (!this.state.product) return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 41\n      }\n    }, \"Loading...\");\n    const {\n      name,\n      price,\n      details\n    } = this.state.product;\n    const sizes = details.size.map(size => /*#__PURE__*/React.createElement(\"option\", {\n      key: size,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 50\n      }\n    }, size));\n    const colors = details.color.map(color => /*#__PURE__*/React.createElement(\"option\", {\n      value: color,\n      key: color,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 53\n      }\n    }, color));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-details main-layout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `/product`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, \"Back to collection\"), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-imges\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: \"500\",\n      height: \"500\",\n      src: details.imgs.img1,\n      alt: \"img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }\n    }, name), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }, price, \" NIS\"), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }, \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic, sunt, maiores beatae cum quam nostrum ab iure temporibus, incidunt eveniet officiis exercitationem explicabo nam dignissimos velit ducimus impedit aliquid cupiditate!\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      onChange: this.handleChange,\n      name: \"size\",\n      id: \"size\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 29\n      }\n    }, \"size\"), sizes), /*#__PURE__*/React.createElement(\"select\", {\n      onChange: this.handleChange,\n      className: \"select-color\",\n      name: \"color\",\n      id: \"color\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 29\n      }\n    }, \"color\"), colors), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }, \"Add To Cart\")))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/tomsh/Desktop/Projects/jipper/frontend/src/pages/ProductDetails/ProductDetails.jsx"],"names":["React","Component","productService","Link","ProductDetails","state","product","productToCart","name","img","price","size","color","onDeleteProduct","deleteProduct","_id","props","history","push","handleChange","target","field","value","type","setState","console","log","onEdit","ev","stopPropagation","onColorSelect","val","document","getElementById","componentDidMount","id","match","params","getProductById","pr","render","details","sizes","map","colors","imgs","img1"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { productService } from '../../services/productService.js'\r\nimport './ProductDetails.scss'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport class ProductDetails extends Component {\r\n    state = {\r\n        product: null,\r\n        productToCart: {\r\n            name: null,\r\n            img: null,\r\n            price: null,\r\n            size: 42,\r\n            color: null\r\n        }\r\n    }\r\n\r\n\r\n    async componentDidMount() {\r\n        const { id } = this.props.match.params\r\n        const product = await productService.getProductById(id)\r\n        this.setState({ product })\r\n        this.setState({productToCart: this.state.pr})\r\n    }\r\n\r\n    onDeleteProduct = async () => {\r\n        await productService.deleteProduct(this.state.product._id)\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const field = target.name\r\n        const value = target.type === 'number' ? +target.value : target.value\r\n        this.setState(({ productToCart }) => ({ productToCart: { ...productToCart, [field]: value } }))\r\n        console.log(this.state.productToCart);\r\n    }\r\n\r\n    onEdit = (ev) => {\r\n        const { _id } = this.state.product\r\n        ev.stopPropagation()\r\n        this.props.history.push(`/product/edit/${_id}`)\r\n    }\r\n\r\n    onColorSelect = (ev) => {\r\n        const val = document.getElementById(\"color\").value;\r\n        console.log(val);\r\n        this.setState({\r\n            productToCart: val\r\n          })\r\n        // this.setState(productToCart.size = val)\r\n        console.log(this.state.productToCart);\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.product) return <div>Loading...</div>\r\n        const { name, price, details } = this.state.product\r\n        const sizes = details.size.map((size) => <option key={size}>{size}</option>);\r\n        const colors = details.color.map((color) => <option value={color} key={color}>{color}</option>);\r\n        return (\r\n            <div className=\"product-details main-layout\">\r\n                <Link  to={`/product`}>Back to collection</Link>\r\n                <section className=\"flex\">\r\n                    {/* <div className=\"flex space-between\"> */}\r\n                    {/* <i onClick={this.onDeleteProduct} className=\"far fa-trash-alt\"></i> */}\r\n                    {/* </div> */}\r\n                    <div className=\"product-imges\">\r\n                        <img width=\"500\" height=\"500\" src={details.imgs.img1} alt=\"img\"></img>\r\n                    </div>\r\n                    <div className=\"product-info\">\r\n                        <h2>{name}</h2>\r\n                        <span className=\"price\">{price} NIS</span>\r\n                        <h3>Description</h3>\r\n                        <p>\r\n                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic, sunt, \r\n                            maiores beatae cum quam nostrum ab iure temporibus, incidunt eveniet officiis exercitationem \r\n                            explicabo nam dignissimos velit ducimus impedit aliquid cupiditate!\r\n                        </p>\r\n                        <div>\r\n                        <select onChange={this.handleChange} name=\"size\" id=\"size\">\r\n                            <option>size</option>\r\n                            {sizes}\r\n                        </select>\r\n                        <select onChange={this.handleChange} className=\"select-color\" name=\"color\" id=\"color\">\r\n                            <option>color</option>\r\n                            {colors}\r\n                        </select>\r\n                       \r\n                        <button>Add To Cart</button>\r\n                        </div>\r\n                    </div>\r\n                    {/* <div className=\"flex justify-end\">\r\n                <i onClick={this.onEdit} className=\"far fa-edit\"></i>\r\n                </div> */}\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}