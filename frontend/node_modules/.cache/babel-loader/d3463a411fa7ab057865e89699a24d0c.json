{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\tomsh\\\\Desktop\\\\Projects\\\\jipper\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\tomsh\\\\Desktop\\\\Projects\\\\jipper\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:\\\\Users\\\\tomsh\\\\Desktop\\\\Projects\\\\jipper\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\tomsh\\\\Desktop\\\\Projects\\\\jipper\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\tomsh\\\\Desktop\\\\Projects\\\\jipper\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\tomsh\\\\Desktop\\\\Projects\\\\jipper\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\tomsh\\\\Desktop\\\\Projects\\\\jipper\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\tomsh\\\\Desktop\\\\Projects\\\\jipper\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{addToCart}from'../../actions/ProductActions';import{productService}from'../../services/productService.js';import'./ProductDetails.scss';import{Link}from'react-router-dom';export var _ProductDetails=/*#__PURE__*/function(_Component){_inherits(_ProductDetails,_Component);var _super=_createSuper(_ProductDetails);function _ProductDetails(){var _this;_classCallCheck(this,_ProductDetails);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={product:null,productToCart:null};_this.onDeleteProduct=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return productService.deleteProduct(_this.state.product._id);case 2:_this.props.history.push('/');case 3:case\"end\":return _context.stop();}}},_callee);}));_this.handleChange=function(_ref2){var target=_ref2.target;var field=target.name;var value=target.type==='number'?+target.value:target.value;_this.setState(function(_ref3){var productToCart=_ref3.productToCart;return{productToCart:_objectSpread(_objectSpread({},productToCart),{},_defineProperty({},field,value))};});console.log(_this.state.productToCart);};_this.onEdit=function(ev){var _id=_this.state.product._id;ev.stopPropagation();_this.props.history.push(\"/product/edit/\".concat(_id));};_this.onColorSelect=function(ev){var val=document.getElementById(\"color\").value;console.log(val);_this.setState({productToCart:val});// this.setState(productToCart.size = val)\nconsole.log(_this.state.productToCart);};_this.OnAddToCart=function(ev){// const productToCart = this.state.productToCart\n_this.props.addToCart(_this.state.productToCart);// console.log(this.state.productToCart);\n};return _this;}_createClass(_ProductDetails,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var id,product;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:id=this.props.match.params.id;_context2.next=3;return productService.getProductById(id);case 3:product=_context2.sent;this.setState({product:product});this.setState({productToCart:this.state.product});case 6:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){if(!this.state.product)return/*#__PURE__*/React.createElement(\"div\",null,\"Loading...\");var _this$state$product=this.state.product,name=_this$state$product.name,price=_this$state$product.price,details=_this$state$product.details;var sizes=details.size.map(function(size){return/*#__PURE__*/React.createElement(\"option\",{key:size},size);});var colors=details.color.map(function(color){return/*#__PURE__*/React.createElement(\"option\",{value:color,key:color},color);});return/*#__PURE__*/React.createElement(\"div\",{className:\"product-details main-layout\"},/*#__PURE__*/React.createElement(Link,{to:\"/product\"},\"Back to collection\"),/*#__PURE__*/React.createElement(\"section\",{className:\"flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"product-imges\"},/*#__PURE__*/React.createElement(\"img\",{width:\"500\",height:\"500\",src:details.imgs.img1,alt:\"img\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"product-info\"},/*#__PURE__*/React.createElement(\"h2\",null,name),/*#__PURE__*/React.createElement(\"span\",{className:\"price\"},price,\" NIS\"),/*#__PURE__*/React.createElement(\"h3\",null,\"Description\"),/*#__PURE__*/React.createElement(\"p\",null,\"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic, sunt, maiores beatae cum quam nostrum ab iure temporibus, incidunt eveniet officiis exercitationem explicabo nam dignissimos velit ducimus impedit aliquid cupiditate!\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"select\",{onChange:this.handleChange,name:\"size\",id:\"size\"},/*#__PURE__*/React.createElement(\"option\",null,\"size\"),sizes),/*#__PURE__*/React.createElement(\"select\",{onChange:this.handleChange,className:\"select-color\",name:\"color\",id:\"color\"},/*#__PURE__*/React.createElement(\"option\",null,\"color\"),colors),/*#__PURE__*/React.createElement(\"button\",{onClick:this.OnAddToCart},\"Add To Cart\")))));}}]);return _ProductDetails;}(Component);// gets the global state and puts it in the props of the component\nfunction mapStateProps(state){return{cartProducts:state.ProductReducer.cartProducts};}// Takes the action dispatchers from the actions file and puts them inside the component's props\nvar mapDispatchToProps={addToCart:addToCart};// Connect is used to tap into the store, without it we have no access to the store from the component\nexport var ProductDetails=connect(mapStateProps,mapDispatchToProps)(_ProductDetails);","map":{"version":3,"sources":["C:/Users/tomsh/Desktop/Projects/jipper/frontend/src/pages/ProductDetails/ProductDetails.jsx"],"names":["React","Component","connect","addToCart","productService","Link","_ProductDetails","state","product","productToCart","onDeleteProduct","deleteProduct","_id","props","history","push","handleChange","target","field","name","value","type","setState","console","log","onEdit","ev","stopPropagation","onColorSelect","val","document","getElementById","OnAddToCart","id","match","params","getProductById","price","details","sizes","size","map","colors","color","imgs","img1","mapStateProps","cartProducts","ProductReducer","mapDispatchToProps","ProductDetails"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { addToCart } from '../../actions/ProductActions'\r\nimport { productService } from '../../services/productService.js'\r\nimport './ProductDetails.scss'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport class _ProductDetails extends Component {\r\n    state = {\r\n        product: null,\r\n        productToCart: null\r\n    }\r\n\r\n\r\n    async componentDidMount() {\r\n        const { id } = this.props.match.params\r\n        const product = await productService.getProductById(id)\r\n        this.setState({ product })\r\n        this.setState({productToCart: this.state.product})\r\n    }\r\n\r\n    onDeleteProduct = async () => {\r\n        await productService.deleteProduct(this.state.product._id)\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const field = target.name\r\n        const value = target.type === 'number' ? +target.value : target.value\r\n        this.setState(({ productToCart }) => ({ productToCart: { ...productToCart, [field]: value } }))\r\n        console.log(this.state.productToCart);\r\n    }\r\n\r\n    onEdit = (ev) => {\r\n        const { _id } = this.state.product\r\n        ev.stopPropagation()\r\n        this.props.history.push(`/product/edit/${_id}`)\r\n    }\r\n\r\n    onColorSelect = (ev) => {\r\n        const val = document.getElementById(\"color\").value;\r\n        console.log(val);\r\n        this.setState({\r\n            productToCart: val\r\n          })\r\n        // this.setState(productToCart.size = val)\r\n        console.log(this.state.productToCart);\r\n    }\r\n\r\n    OnAddToCart = (ev) => {\r\n        // const productToCart = this.state.productToCart\r\n        this.props.addToCart(this.state.productToCart)\r\n        // console.log(this.state.productToCart);\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.product) return <div>Loading...</div>\r\n        const { name, price, details } = this.state.product\r\n        const sizes = details.size.map((size) => <option key={size}>{size}</option>);\r\n        const colors = details.color.map((color) => <option value={color} key={color}>{color}</option>);\r\n        return (\r\n            <div className=\"product-details main-layout\">\r\n                <Link  to={`/product`}>Back to collection</Link>\r\n                <section className=\"flex\">\r\n                    {/* <div className=\"flex space-between\"> */}\r\n                    {/* <i onClick={this.onDeleteProduct} className=\"far fa-trash-alt\"></i> */}\r\n                    {/* </div> */}\r\n                    <div className=\"product-imges\">\r\n                        <img width=\"500\" height=\"500\" src={details.imgs.img1} alt=\"img\"></img>\r\n                    </div>\r\n                    <div className=\"product-info\">\r\n                        <h2>{name}</h2>\r\n                        <span className=\"price\">{price} NIS</span>\r\n                        <h3>Description</h3>\r\n                        <p>\r\n                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic, sunt, \r\n                            maiores beatae cum quam nostrum ab iure temporibus, incidunt eveniet officiis exercitationem \r\n                            explicabo nam dignissimos velit ducimus impedit aliquid cupiditate!\r\n                        </p>\r\n                        <div>\r\n                        <select onChange={this.handleChange} name=\"size\" id=\"size\">\r\n                            <option>size</option>\r\n                            {sizes}\r\n                        </select>\r\n                        <select onChange={this.handleChange} className=\"select-color\" name=\"color\" id=\"color\">\r\n                            <option>color</option>\r\n                            {colors}\r\n                        </select>\r\n                       \r\n                        <button onClick={this.OnAddToCart}>Add To Cart</button>\r\n                        </div>\r\n                    </div>\r\n                    {/* <div className=\"flex justify-end\">\r\n                <i onClick={this.onEdit} className=\"far fa-edit\"></i>\r\n                </div> */}\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// gets the global state and puts it in the props of the component\r\nfunction mapStateProps(state) {\r\n    return {\r\n        cartProducts: state.ProductReducer.cartProducts\r\n    }\r\n}\r\n// Takes the action dispatchers from the actions file and puts them inside the component's props\r\nconst mapDispatchToProps = {\r\n    addToCart\r\n}\r\n// Connect is used to tap into the store, without it we have no access to the store from the component\r\nexport const ProductDetails = connect(mapStateProps, mapDispatchToProps)(_ProductDetails)\r\n\r\n"]},"metadata":{},"sourceType":"module"}