{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tomsh\\\\Desktop\\\\Projects\\\\jipper\\\\frontend\\\\src\\\\pages\\\\ProductDetails\\\\ProductDetails.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { loadOrder, addToOrder } from '../../actions/OrderActions';\nimport { productService } from '../../services/productService.js';\nimport { orderService } from '../../services/orderService.js';\nimport './ProductDetails.scss';\nimport { Link } from 'react-router-dom';\nexport class _ProductDetails extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      product: null,\n      productToCart: null,\n      order: null\n    };\n\n    this.onDeleteProduct = async () => {\n      await productService.deleteProduct(this.state.product._id);\n      this.props.history.push('/');\n    };\n\n    this.handleChange = ({\n      target\n    }) => {\n      const field = target.name;\n      const value = target.type === 'number' ? +target.value : target.value;\n      this.setState(({\n        productToCart\n      }) => ({\n        productToCart: { ...productToCart,\n          [field]: value\n        }\n      }));\n      console.log(this.state.productToCart);\n    };\n\n    this.onEdit = ev => {\n      const {\n        _id\n      } = this.state.product;\n      ev.stopPropagation();\n      this.props.history.push(`/product/edit/${_id}`);\n    };\n\n    this.onColorSelect = ev => {\n      const val = document.getElementById(\"color\").value;\n      console.log(val);\n      this.setState({\n        productToCart: val\n      }); // this.setState(productToCart.size = val)\n\n      console.log(this.state.productToCart);\n    };\n\n    this.onAddToOrder = ev => {\n      const productToOrder = this.state.productToCart;\n      const {\n        order\n      } = this.props;\n\n      if (!this.state.order) {\n        console.log('loading order..');\n      }\n\n      if (this.state.order) {\n        console.log(productToOrder);\n        console.log(this.state.order);\n      }\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      id\n    } = this.props.match.params;\n    const product = await productService.getProductById(id);\n    this.props.loadOrder();\n    const order = this.props.order;\n    this.setState({\n      product\n    });\n\n    if (order) {\n      console.log(order);\n      this.setState({\n        order\n      });\n    }\n\n    this.setState({\n      productToCart: this.state.product\n    });\n  }\n\n  render() {\n    if (!this.state.product) return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 41\n      }\n    }, \"Loading...\");\n    const {\n      name,\n      price,\n      size,\n      color,\n      imgs\n    } = this.state.product;\n    const sizes = size.map(size => /*#__PURE__*/React.createElement(\"option\", {\n      key: size,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 42\n      }\n    }, size));\n    const colors = color.map(color => /*#__PURE__*/React.createElement(\"option\", {\n      value: color,\n      key: color,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 45\n      }\n    }, color));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-details main-layout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `/product`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, \"Back to collection\"), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-imges\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: \"500\",\n      height: \"500\",\n      src: imgs.img1,\n      alt: \"img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }, name), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }, price, \" NIS\"), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 25\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 25\n      }\n    }, \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic, sunt, maiores beatae cum quam nostrum ab iure temporibus, incidunt eveniet officiis exercitationem explicabo nam dignissimos velit ducimus impedit aliquid cupiditate!\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      onChange: this.handleChange,\n      name: \"size\",\n      id: \"size\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 29\n      }\n    }, \"size\"), sizes), /*#__PURE__*/React.createElement(\"select\", {\n      onChange: this.handleChange,\n      className: \"select-color\",\n      name: \"color\",\n      id: \"color\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 29\n      }\n    }, \"color\"), colors), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.onAddToOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    }, \"Add To Cart\")))));\n  }\n\n} // gets the global state and puts it in the props of the component\n\nfunction mapStateProps(state) {\n  return {\n    orderProducts: state.OrderReducer.orderProducts\n  };\n} // Takes the action dispatchers from the actions file and puts them inside the component's props\n\n\nconst mapDispatchToProps = {\n  addToOrder,\n  loadOrder\n}; // Connect is used to tap into the store, without it we have no access to the store from the component\n\nexport const ProductDetails = connect(mapStateProps, mapDispatchToProps)(_ProductDetails);","map":{"version":3,"sources":["C:/Users/tomsh/Desktop/Projects/jipper/frontend/src/pages/ProductDetails/ProductDetails.jsx"],"names":["React","Component","connect","loadOrder","addToOrder","productService","orderService","Link","_ProductDetails","state","product","productToCart","order","onDeleteProduct","deleteProduct","_id","props","history","push","handleChange","target","field","name","value","type","setState","console","log","onEdit","ev","stopPropagation","onColorSelect","val","document","getElementById","onAddToOrder","productToOrder","componentDidMount","id","match","params","getProductById","render","price","size","color","imgs","sizes","map","colors","img1","mapStateProps","orderProducts","OrderReducer","mapDispatchToProps","ProductDetails"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadOrder, addToOrder } from '../../actions/OrderActions'\r\nimport { productService } from '../../services/productService.js'\r\nimport { orderService } from '../../services/orderService.js'\r\nimport './ProductDetails.scss'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport class _ProductDetails extends Component {\r\n    state = {\r\n        product: null,\r\n        productToCart: null,\r\n        order: null\r\n    }\r\n\r\n\r\n    async componentDidMount() {\r\n        const { id } = this.props.match.params\r\n        const product = await productService.getProductById(id)\r\n        this.props.loadOrder()\r\n        const order =  this.props.order\r\n        this.setState({ product })\r\n        if (order){\r\n            console.log(order);\r\n            this.setState({ order })\r\n        }\r\n        this.setState({productToCart: this.state.product})\r\n    }\r\n\r\n    onDeleteProduct = async () => {\r\n        await productService.deleteProduct(this.state.product._id)\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const field = target.name\r\n        const value = target.type === 'number' ? +target.value : target.value\r\n        this.setState(({ productToCart }) => ({ productToCart: { ...productToCart, [field]: value } }))\r\n        console.log(this.state.productToCart);\r\n    }\r\n\r\n    onEdit = (ev) => {\r\n        const { _id } = this.state.product\r\n        ev.stopPropagation()\r\n        this.props.history.push(`/product/edit/${_id}`)\r\n    }\r\n\r\n    onColorSelect = (ev) => {\r\n        const val = document.getElementById(\"color\").value;\r\n        console.log(val);\r\n        this.setState({\r\n            productToCart: val\r\n          })\r\n        // this.setState(productToCart.size = val)\r\n        console.log(this.state.productToCart);\r\n    }\r\n\r\n    // OnAddToCart = (ev) => {\r\n    //     // const productToCart = this.state.productToCart\r\n    //     this.props.addToCart(this.state.productToCart)\r\n    //     // console.log(this.state.productToCart);\r\n    // }\r\n\r\n  onAddToOrder = (ev) =>  {\r\n        const productToOrder = this.state.productToCart\r\n        const { order } =  this.props\r\n        if (!this.state.order){\r\n            console.log('loading order..');\r\n        }\r\n        if (this.state.order){\r\n            console.log(productToOrder);\r\n            console.log(this.state.order);\r\n        }\r\n        \r\n    }\r\n    \r\n    render() {\r\n        if (!this.state.product) return <div>Loading...</div>\r\n        const { name, price, size, color, imgs } = this.state.product\r\n        const sizes = size.map((size) => <option key={size}>{size}</option>);\r\n        const colors = color.map((color) => <option value={color} key={color}>{color}</option>);\r\n        return (\r\n            <div className=\"product-details main-layout\">\r\n                <Link  to={`/product`}>Back to collection</Link>\r\n                <section className=\"flex\">\r\n                    {/* <div className=\"flex space-between\"> */}\r\n                    {/* <i onClick={this.onDeleteProduct} className=\"far fa-trash-alt\"></i> */}\r\n                    {/* </div> */}\r\n                    <div className=\"product-imges\">\r\n                        <img width=\"500\" height=\"500\" src={imgs.img1} alt=\"img\"></img>\r\n                    </div>\r\n                    <div className=\"product-info\">\r\n                        <h2>{name}</h2>\r\n                        <span className=\"price\">{price} NIS</span>\r\n                        <h3>Description</h3>\r\n                        <p>\r\n                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic, sunt, \r\n                            maiores beatae cum quam nostrum ab iure temporibus, incidunt eveniet officiis exercitationem \r\n                            explicabo nam dignissimos velit ducimus impedit aliquid cupiditate!\r\n                        </p>\r\n                        <div>\r\n                        <select onChange={this.handleChange} name=\"size\" id=\"size\">\r\n                            <option>size</option>\r\n                            {sizes}\r\n                        </select>\r\n                        <select onChange={this.handleChange} className=\"select-color\" name=\"color\" id=\"color\">\r\n                            <option>color</option>\r\n                            {colors}\r\n                        </select>\r\n                       \r\n                        <button onClick={this.onAddToOrder}>Add To Cart</button>\r\n                        </div>\r\n                    </div>\r\n                    {/* <div className=\"flex justify-end\">\r\n                <i onClick={this.onEdit} className=\"far fa-edit\"></i>\r\n                </div> */}\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// gets the global state and puts it in the props of the component\r\nfunction mapStateProps(state) {\r\n    return {\r\n        orderProducts: state.OrderReducer.orderProducts\r\n    }\r\n}\r\n// Takes the action dispatchers from the actions file and puts them inside the component's props\r\nconst mapDispatchToProps = {\r\n    addToOrder,\r\n    loadOrder\r\n}\r\n// Connect is used to tap into the store, without it we have no access to the store from the component\r\nexport const ProductDetails = connect(mapStateProps, mapDispatchToProps)(_ProductDetails)\r\n\r\n"]},"metadata":{},"sourceType":"module"}